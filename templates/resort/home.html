{% extends 'resort/base.html' %}
{% load static %}

{% block title %}Banbas Resort - Your Paradise Awaits{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero{% if resort.hero_video %} has-video{% endif %}" {% if not resort.hero_video %}style="background-image: url('{{ resort.hero_image_placeholder|default:'https://images.unsplash.com/photo-1571896349842-33c89424de2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1920&q=80' }}');"{% endif %}>
    {% if resort.hero_video %}
    <!-- Hero Background Video -->
    <video class="hero-video" autoplay muted loop playsinline>
        <source src="{{ resort.hero_video.url }}" type="video/mp4">
        <!-- Fallback image if video fails to load -->
        <img src="{{ resort.hero_image_placeholder }}" alt="{{ resort.name }}" />
    </video>
    {% endif %}
    
    <div class="container">
        <div class="hero-content">
            <h1 class="display-1 fw-bold mb-4">{{ resort.name|default:'Banbas Resort' }}</h1>
            <p class="lead fs-3 mb-5">{{ resort.tagline|default:'Your Paradise Awaits' }}</p>
            <div class="hero-buttons">
                <a href="{% url 'resort:rooms' %}" class="btn btn-primary btn-lg me-3">Explore Rooms</a>
                <a href="{% url 'resort:home' %}" class="btn btn-outline-light btn-lg">Book Now</a>
            </div>
        </div>
    </div>
</section>

<!-- Chitwan National Park Heritage Section -->
<section class="section bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold text-uppercase" style="color: #B8860B; font-family: var(--font-display); letter-spacing: 2px; line-height: 1.5; padding-top: 5%;">
                RESORT BESIDES A WORLD HERITAGE SITE<br>
                <span class="display-5 fw-bold text-uppercase">CHITWAN NATIONAL PARK</span>
            </h2>
        </div>
        
        <div class="row justify-content-center">
            <div class="col-lg-10 col-xl-8">
                <div class="heritage-content text-center">
                    <p class="lead" style="font-size: 1.2rem; line-height: 1.8; color: #555; margin-bottom: 0; padding-bottom: 5%;">
                        Experience the unparalleled beauty of Chitwan National Park from the comfort of your 
                        own residence. Every wild tree and the wetland inside Banbas blends into the natural 
                        splendor that surrounds you. Wake up to the symphony of over 60 species of wild birds 
                        serenading your mornings with their exotic melodies. Royal Bengal tiger, one-horned 
                        rhinoceros, and the magnificent Asian wild elephant live right next to you in their 
                        natural habitat. Banbas is a sanctuary for those who yearn to be enveloped by nature's 
                        untouched beauty. This is where your spirit finds both peace and adventure at once.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Resort Activities Section -->
{% if featured_activities %}
<section class="section activities-section">
    <div class="container">
        <div class="section-title">
            <h2 style="color: white;">Resort Activities</h2>
            <p style="color: rgba(255, 255, 255, 0.9);">Discover exciting experiences and adventures designed to make your stay unforgettable.</p>
        </div>
        
        <div class="row g-4">
            {% for activity in featured_activities %}
            <div class="col-lg-4 col-md-6">
                <div class="activity-card h-100" style="background: linear-gradient(135deg, {{ activity.background_color }}e6, {{ activity.background_color }}cc);">
                    <div class="activity-image">
                        <img src="{{ activity.image_placeholder }}" 
                             alt="{{ activity.name }}" 
                             class="img-fluid">
                        <div class="activity-overlay">
                            <div class="activity-icon">
                                <i class="{{ activity.icon_class }} fa-2x"></i>
                            </div>
                        </div>
                    </div>
                    <div class="activity-content">
                        <div class="activity-header">
                            <h5 class="activity-title">{{ activity.name }}</h5>
                            <span class="activity-category">{{ activity.get_category_display }}</span>
                        </div>
                        <p class="activity-description">{{ activity.short_description }}</p>
                        <div class="activity-details">
                            <div class="row g-2">
                                <div class="col-4">
                                    <small class="detail-item">
                                        <i class="fas fa-clock me-1"></i>
                                        {{ activity.duration }}
                                    </small>
                                </div>
                                <div class="col-4">
                                    <small class="detail-item">
                                        <i class="fas fa-users me-1"></i>
                                        {{ activity.max_participants }} max
                                    </small>
                                </div>
                                <div class="col-4">
                                    <small class="detail-item">
                                        <i class="fas fa-signal me-1"></i>
                                        {{ activity.get_difficulty_display }}
                                    </small>
                                </div>
                            </div>
                        </div>
                        <div class="activity-footer">
                            <a href="{% url 'resort:activity_detail' activity.pk %}" class="btn btn-activity-detail">Learn More</a>
                            <div class="activity-features">
                                {% if activity.includes_equipment %}
                                    <span class="feature-badge" title="Equipment included">
                                        <i class="fas fa-tools"></i>
                                    </span>
                                {% endif %}
                                {% if activity.includes_guide %}
                                    <span class="feature-badge" title="Guide included">
                                        <i class="fas fa-user-tie"></i>
                                    </span>
                                {% endif %}
                                {% if activity.includes_transport %}
                                    <span class="feature-badge" title="Transport included">
                                        <i class="fas fa-shuttle-van"></i>
                                    </span>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        {% if featured_activities|length >= 6 %}
        <div class="text-center mt-5">
            <a href="{% url 'resort:contact' %}" class="btn btn-primary btn-lg">
                <i class="fas fa-calendar-alt me-2"></i>View All Activities
            </a>
        </div>
        {% endif %}
    </div>
</section>
{% endif %}

<!-- Featured Rooms Section -->
{% if featured_rooms %}
<section class="section bg-light">
    <div class="container">
        <div class="section-title">
            <h2>Our Luxurious Rooms</h2>
            <p>Choose from our collection of elegantly designed rooms and suites, each offering comfort and style.</p>
        </div>
        
        <div class="row g-4">
            {% for room in featured_rooms %}
            <div class="col-lg-4 col-md-6">
                <div class="card h-100">
                    <img src="{{ room.main_image }}" 
                         class="card-img-top" 
                         alt="{{ room.name }}">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">{{ room.name }}</h5>
                        <p class="card-text flex-grow-1">{{ room.description|truncatewords:20 }}</p>
                        <div class="room-details mb-3">
                            <small class="text-muted">
                                <i class="fas fa-users me-1"></i> {{ room.max_occupancy }} guests
                                <i class="fas fa-expand-arrows-alt ms-3 me-1"></i> {{ room.size_sqm }} mÂ²
                                {% if room.room_count > 1 %}
                                <i class="fas fa-bed ms-3 me-1"></i> {{ room.room_count }} rooms available
                                {% endif %}
                            </small>
                        </div>
                        <div class="room-features mb-3">
                            {% for feature in room.get_features_list|slice:":2" %}
                                <span class="badge bg-light text-dark me-1 mb-1">{{ feature }}</span>
                            {% endfor %}
                        </div>
                        <div class="text-center">
                            <a href="{% url 'resort:room_detail' room.pk %}" class="btn btn-primary w-100">Explore Room</a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-5">
            <a href="{% url 'resort:rooms' %}" class="btn btn-outline-primary btn-lg">View All Rooms</a>
        </div>
    </div>
</section>
{% endif %}

<!-- Featured Amenities Section -->
{% if featured_amenities %}
<section class="section">
    <div class="container">
        <div class="section-title">
            <h2>World-Class Amenities</h2>
            <p>Indulge in our premium facilities designed for your ultimate comfort and enjoyment.</p>
        </div>
        
        <div class="row g-4">
            {% for amenity in featured_amenities %}
            <div class="col-lg-4 col-md-6">
                <div class="amenity-card">
                    <div class="amenity-icon">
                        <i class="{{ amenity.icon_class|default:'fas fa-star' }}"></i>
                    </div>
                    <h5>{{ amenity.name }}</h5>
                    <p>{{ amenity.description|truncatewords:15 }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-5">
            <a href="{% url 'resort:amenities' %}" class="btn btn-outline-primary btn-lg">All Amenities</a>
        </div>
    </div>
</section>
{% endif %}

<!-- Gallery Preview Section -->
{% if featured_gallery %}
<section class="section bg-light">
    <div class="container">
        <div class="section-title">
            <h2>Discover Our Resort</h2>
            <p>Take a visual journey through our beautiful resort and stunning surroundings.</p>
        </div>
        
        <div class="row g-4">
            {% for image in featured_gallery %}
            <div class="col-lg-4 col-md-6">
                <div class="gallery-item">
                    <img src="{{ image.image_placeholder }}" 
                         alt="{{ image.title }}" 
                         class="img-fluid">
                    <div class="gallery-overlay">
                        <h5>{{ image.title }}</h5>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-5">
            <a href="{% url 'resort:gallery' %}" class="btn btn-outline-primary btn-lg">View Gallery</a>
        </div>
    </div>
</section>
{% endif %}

<!-- Call to Action Section -->
<section class="section bg-primary text-white">
    <div class="container text-center">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <h2 class="display-4 fw-bold mb-4" style="color: white;">Ready for Your Perfect Vacation?</h2>
                <p class="lead mb-5">Book your stay at Banbas Resort today and create memories that will last a lifetime. Our team is ready to make your dream vacation a reality.</p>
                <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                    <a href="{% url 'resort:home' %}" class="btn btn-light btn-lg me-md-2">Book Now</a>
                    <a href="{% url 'resort:rooms' %}" class="btn btn-outline-light btn-lg">View Rooms</a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Newsletter Section -->
<section class="section">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-6 text-center">
                <h3>Stay Updated</h3>
                <p class="mb-4">Subscribe to our newsletter for special offers and resort updates.</p>
                <form id="newsletter-form" class="d-flex gap-2">
                    <input type="email" class="form-control" placeholder="Your email address" required>
                    <button type="submit" class="btn btn-primary">Subscribe</button>
                </form>
            </div>
        </div>
    </div>
</section>
{% endblock %}